<!doctype html>
<html lang="en">
    <head>
        <title>SchoolMangementApp</title>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />

        <!-- Bootstrap CSS v5.2.1 -->
        <link
            href="/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />
        <!-- Vue js3 cdn -->
        <!-- FontAwesome cdn -->
        <link rel="stylesheet" href="css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    </head>
    <body class="bg-light">
        <div id="app">
            <div class="" v-if="!isSigned">
                <section class="p-3 p-md-4 p-xl-5">
                  <div class="container">
                    <div class="row justify-content-center">
                      <div class="col-12 col-md-9 col-lg-7 col-xl-6 col-xxl-5">
                        <div class="card border border-light-subtle rounded-4">
                          <div class="card-body p-3 p-md-4 p-xl-5">
                            <div class="row">
                              <div class="col-12">
                                <div class="mb-5">
                                  <h4 class="text-center">Welcome back you've been missed!</h4>
                                </div>
                              </div>
                            </div>
                            <form action="#!">
                              <div class="row gy-3 overflow-hidden">
                                <div class="col-12">
                                  <div class="form-floating mb-3">
                                    <input type="text" class="form-control" name="email" id="email" v-model="username" placeholder="username" required>
                                    <label for="email" class="form-label">Username</label>
                                  </div>
                                </div>
                                <div class="col-12">
                                  <div class="form-floating mb-3">
                                    <input type="password" class="form-control" v-model="password" name="password" id="password" value="" placeholder="Password" required>
                                    <label for="password" class="form-label">Password</label>
                                  </div>
                                </div>
                                <div class="col-12">
                                  <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="remember_me" id="remember_me">
                                    <label class="form-check-label text-secondary" for="remember_me">
                                      Keep me logged in
                                    </label>
                                  </div>
                                </div>
                                <div class="col-12">
                                  <div class="d-grid">
                                    <button class="btn bsb-btn-xl btn-primary" type="submit" @click="singinFunc()">Log in now</button>
                                  </div>
                                </div>
                              </div>
                            </form>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </section>
              </div>
        <!-- navbar 1 -->
        <div v-if="isSigned">
        <nav class="navbar bg-dark text-white">
            <div class="container-fluid">
                <div>
                    <a class="navbar-brand" href="#">
                        <img src="" alt="Logo" width="30" height="24" class="d-inline-block align-text-top">
                    </a>
                      <div class="offcanvas offcanvas-start bg-dark text-white" data-bs-backdrop="static" tabindex="-1" id="staticBackdrop" aria-labelledby="staticBackdropLabel">
                        <div class="offcanvas-header">
                          <h5 class="offcanvas-title" id="staticBackdropLabel">Menu</h5>
                          <button type="button" class="btn btn-sm btn-dark text-white" data-bs-dismiss="offcanvas" aria-label="Close"><i class="fa-solid fa-circle-xmark"></i></button>
                        </div>
                        <div class="offcanvas-body  ">
                            <ul class="navbar-nav">
                                <li class="nav-item m-2">
                                  <a class="btn btn-light" aria-current="page" v-if="inDashbo" href="#" @click="displayDashb()"><i class="fa-solid fa-chart-pie"></i> Dashboard</a>
                                  <a class="btn text-white" aria-current="page" v-else="!inDashbo" @click="displayDashb()"><i class="fa-solid fa-chart-pie"></i> Dashboard</a>
                                </li>
                                <li class="nav-item m-2">
                                  <a class="btn btn-light" aria-current="page" v-if="inStudent" @click="displayStu()"><i class="fa-solid fa-book"></i> Students</a>
                                  <a class="btn text-white" aria-current="page" v-else="!inStudent" @click="displayStu()"><i class="fa-solid fa-book"></i> Students</a>
                                </li>
                                <li class="nav-item m-2">
                                  <a class="btn btn-light" aria-current="page" v-if="inAdmin" @click="displayAdmin()"><i class="fa-solid fa-user"></i> Administration</a>
                                  <a class="btn text-white" aria-current="page" v-else="!inAdmin" @click="displayAdmin()"><i class="fa-solid fa-user"></i> Administration</a>
                                </li>
                                <li class="nav-item m-2">
                                    <a class="btn btn-light" aria-current="page" v-if="inAdmin" @click=""><i class="fa-solid fa-book"></i> Sublects</a>
                                    <a class="btn text-white" aria-current="page" v-else="!inAdmin" @click=""><i class="fa-solid fa-book"></i> Subjects</a>
                                  </li>
                              </ul>
                        </div>
                      </div>
                </div> 
                <div>
                    <button class="btn btn-success m-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#staticBackdrop" aria-controls="staticBackdrop">
                        <i class="fa-solid fa-bars"></i>
                    </button>
                    <button type="button" class="btn btn-success m-2"><i class="fa-solid fa-user"></i></button>
                </div>
            </div>
        </nav>
        <!-- students navbar -->
        <nav class="nav container justify-content-between" v-show="inStudent">
            <ul class="nav" >
                <li class="nav-item m-3">
                    <a class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" aria-current="page" href="#"><i class="fa-solid fa-circle-plus"></i></a>
                </li>
                <li class="nav-item m-3">
                    <a class="btn btn-primary" aria-current="page" @click="uploadList()"><i class="fa fa-circle-up"></i></a>
                </li>
                <li class="nav-item m-3">
                    <a class="btn btn-primary" aria-current="page">Administration</a>
                </li>
            </ul>

            <ul class="nav">
                <li class="nav-item m-3">
                    <a class="btn btn-primary"><i class="fa-solid fa-magnifying-glass"></i> ByID</a>
                </li>
                <li class="nav-item m-3"><a class="btn btn-primary"></a></li>
                <li class="nav-item m-3"><a class="btn btn-primary"></a></li>
                <li class="nav-item m-3"><a class="btn btn-primary"></a></li>
            </ul>
        </nav>
        <!-- cards -->
        <div v-show="inDashbo">
            <div class="row row-cols-1 row-cols-md-4 py-3 g-4 container-fluid">
            <div class="col">
                <div class="card" style="width: 18rem;">
                    <div class="card-body">
                      <h5 class="card-title text-center text-body-secondary">Students</h5>
                        <div class="d-flex justify-content-between container">
                            <div class="1">
                            <h2>{{totalStudents}}</h2>
                            <h5 class="text-danger fs-6 py-2">(2024)</h5>
                            </div>
                            <div>

                            </div>
                            <div class="btn btn-lg">
                                <a class="btn btn-lg" @click="displayStu()"><i class="fa-solid fa-book"></i></a>
                            </div>
                        </div>
                    </div>
                  </div>
            </div>
            <div class="col">
                <div class="card" style="width: 18rem;">
                    <div class="card-body">
                      <h5 class="card-title text-center text-body-secondary">Administraters</h5>
                        <div class="d-flex justify-content-between container">
                            <div class="1">
                            <h2>10</h2>
                            <h5 class="text-danger fs-6 py-2">(2024)</h5>
                            </div>
                            <div>

                            </div>
                            <div class="btn btn-lg">
                                <a class="btn btn-lg" @click="displayAdmin()"><i class="fa-solid fa-user-tie"></i></a>
                            </div>
                        </div>
                    </div>
                  </div>
            </div>
            <div class="col">
                <div class="card" style="width: 18rem;">
                    <div class="card-body">
                      <h5 class="card-title text-center text-body-secondary">Card title</h5>
                        <div class="d-flex justify-content-between container">
                            <div class="1">
                            <h2>10</h2>
                            <h5 class="text-danger fs-6 py-2">(2024)</h5>
                            </div>
                            <div>

                            </div>
                            <div class="btn btn-lg">
                                <a class="btn  btn-lg"><i class="fa-solid fa-user"></i></a>
                            </div>
                        </div>
                    </div>
                  </div>
            </div>
            <div class="col">
                <div class="card" style="width: 18rem;">
                    <div class="card-body">
                      <h5 class="card-title text-center text-body-secondary">Card title</h5>
                        <div class="d-flex justify-content-between container">
                            <div class="1">
                            <h2>10</h2>
                            <h5 class="text-danger fs-6 py-2">(2024)</h5>
                            </div>
                            <div>

                            </div>
                            <div class="btn btn-lg">
                                <a class="btn btn-lg"><i class="fa-solid fa-user"></i></a>
                            </div>
                        </div>
                    </div>
                  </div>
            </div>
            </div>

            <!-- statics -->
            <div class="" v-if="inDashbo">
                <div class="d-flex justify-content-center" v-show="isLoading">
                    <div  v-show="isLoading">
                    <div class="spinner-grow text-primary" role="status">
                        <span class="visually-hidden">Loading...</span>
                      </div>
                      <div class="spinner-grow text-secondary" role="status">
                        <span class="visually-hidden">Loading...</span>
                      </div>
                      <div class="spinner-grow text-success" role="status">
                        <span class="visually-hidden">Loading...</span>
                      </div>
                      <div class="spinner-grow text-danger" role="status">
                        <span class="visually-hidden">Loading...</span>
                      </div>
                      <div class="spinner-grow text-warning" role="status">
                        <span class="visually-hidden">Loading...</span>
                      </div>
                      <div class="spinner-grow text-info" role="status">
                        <span class="visually-hidden">Loading...</span>
                      </div>
                      <div class="spinner-grow text-light" role="status">
                        <span class="visually-hidden">Loading...</span>
                      </div>
                      <div class="spinner-grow text-dark" role="status">
                        <span class="visually-hidden">Loading...</span>
                      </div>
                    </div>
                </div>
                <div class="row" v-show="!isLoading">
                <div class="col-6">
                <canvas id="charts"></canvas>
                </div>
                <div class="col-6 bg-light">
                    <canvas id="adminCharts"></canvas>
                </div>
                 </div>
            </div>
            
            <!--  -->
        </div>
        <div v-show="inStudent">
            <div class="py-3 justify-content-center">
                <div class="container">
                    <table class="table">
                        <thead>
                          <tr>
                            <th scope="col">NCS</th>
                            <th scope="col">First Name</th>
                            <th scope="col">Last Name</th>
                            <th scope="col">Classroom</th>
                            <th scope="col">Exam#1</th>
                            <th scope="col">Exam#2</th>
                            <th scope="col">Result</th>
                            <th scope="col">valid√©</th>
                            <th scope="col">Actions</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr v-for="(oneItem,index) in list">
                            <th scope="row"> {{oneItem.ncs}} </th>
                            <td>{{oneItem.firstName}}</td>
                            <td>{{oneItem.lastName}}</td>
                            <td>{{oneItem.classroom}}</td>
                            <td>{{oneItem.exam1}}</td>
                            <td>{{oneItem.exam2}}</td>
                            <td>{{totalExam(oneItem.exam1,oneItem.exam2)}}</td>
                            <td> {{isGraduate(totalExam(oneItem.exam1,oneItem.exam2))}}</td>
                            <td>
                                <button class="btn btn-sm btn-primary m-2" data-bs-toggle="modal" data-bs-target="#editModal" aria-current="page" @click="editStudent(oneItem)"><i class="fa fa-edit"></i></button>
                                <button class="btn btn-sm btn-primary m-2" data-bs-toggle="modal" data-bs-target="#showingModal" aria-current="page" @click="studentInfo(oneItem)"><i class="fa-solid fa-eye"></i></button>
                                <button class="btn btn-sm btn-primary m-2" data-bs-toggle="modal" data-bs-target="#deleteModal" @click="preDelete(oneItem)"><i class="fa fa-trash"></i></button>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                </div>
            </div>
            <div class="row">
                <!-- is graduating card -->
                <div class="mb-3 col-3">
                    <div class="card" style="width: 18rem;">
                        <div class="card-body">
                          <h5 class="card-title text-center text-body-secondary">Number of successful studentes</h5>
                            <div class="d-flex justify-content-between container">
                                <div class="1">
                                <h2> {{graduaters}} </h2>
                                <h5 class="text-danger fs-6 py-2">(2024)</h5>
                                </div>
                                <div>
    
                                </div>
                                <div class="btn btn-lg">
                                    <a class="btn btn-lg" ><i class="fa-solid fa-book"></i></a>
                                </div>
                            </div>
                        </div>
                      </div>
                </div>
                <!-- is failed card -->
                <div class="mb-3 col-3">
                    <div class="card" style="width: 18rem;">
                        <div class="card-body">
                          <h5 class="card-title text-center text-body-secondary">Number of failed<br> students</h5>
                            <div class="d-flex justify-content-between container">
                                <div class="1">
                                <h2>{{faileds}}</h2>
                                <h5 class="text-danger fs-6 py-2">(2024)</h5>
                                </div>
                                <div>
    
                                </div>
                                <div class="btn btn-lg">
                                    <a class="btn btn-lg" @click="displayStu()"><i class="fa-solid fa-book"></i></a>
                                </div>
                            </div>
                        </div>
                      </div>
                </div>
                <div>
                    <canvas id="graduationstatus"></canvas>
                </div>
            </div>
        </div>
        <div v-show="inAdmin">
            <h1>hello admin</h1>
        </div>
        </div>
        <!-- modals -->
              <!-- add students modal -->
                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Add student</h1>
                        <button type="button" class="btn" data-bs-dismiss="modal" aria-label="Close" @click="emptyItem()"><i class="fa-solid fa-circle-xmark"></i></button>                        </div>
                        <div class="modal-body">
                            <div class="container">
                                <div class="">
                                    <div class="row">
                                        <div class=" col-6 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">First Name</label>
                                            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.firstName" placeholder="first name">
                                        </div>
                                        <div class="col-6 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Last Name</label>
                                            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.lastName" placeholder="last name">
                                        </div>
                                    </div> 
                                    <div class="mb-3">
                                        <label for="exampleFormControlInput1" class="form-label">NCS</label>
                                        <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.ncs" placeholder="C123456789">
                                    </div>    
                                    <div class="row">
                                        <div class=" col-6 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Email address</label>
                                            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.classroom" placeholder="Classroom">
                                        </div>
                                        <div class="col-6 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Birhday</label>
                                            <input type="date" class="form-control" id="exampleFormControlInput1" placeholder="" disabled>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class=" col-4 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Exam #1</label>
                                            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.exam1" placeholder="Exam #1">
                                        </div>
                                        <div class="col-4 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Exam #2</label>
                                            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.exam2" placeholder="Exam #2">
                                        </div>
                                        <div class="col-4 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Exam #3</label>
                                            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.exam3" placeholder="Exam #3">
                                        </div>
                                    </div>                   
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                        <button type="button" class="btn btn-secondary"  @click="emptyItem()">Cancel</button>
                        <button type="button" class="btn btn-success" data-bs-dismiss="modal" @click="addItem()">Add student</button>
                        </div>
                    </div>
                    </div>
                </div>
              <!-- showing modal -->
                <div class="modal fade" id="showingModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Student infos</h1>
                        <button type="button" class="btn" data-bs-dismiss="modal" @click="emptyItem()" aria-label="Close"><i class="fa-solid fa-circle-xmark"></i></button>                        </div>
                        <div class="modal-body">
                            <div class="container">
                                <div class="">
                                    <div class="row">
                                        <div class=" col-6 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">First Name</label>
                                            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.firstName" placeholder="first name" disabled>
                                        </div>
                                        <div class="col-6 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Last Name</label>
                                            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.lastName" placeholder="last name" disabled>
                                        </div>
                                    </div> 
                                    <div class="mb-3">
                                        <label for="exampleFormControlInput1" class="form-label">NCS</label>
                                        <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.ncs" placeholder="C123456789" disabled>
                                    </div>    
                                    <div class="row">
                                        <div class=" col-6 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Email address</label>
                                            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.classroom" placeholder="Classroom" disabled>
                                        </div>
                                        <div class="col-6 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Birhday</label>
                                            <input type="date" class="form-control" id="exampleFormControlInput1" placeholder="" disabled>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class=" col-4 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Exam #1</label>
                                            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.exam1" placeholder="Exam #1" disabled>
                                        </div>
                                        <div class="col-4 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Exam #2</label>
                                            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.exam2" placeholder="Exam #2" disabled>
                                        </div>
                                        <div class="col-4 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Exam #3</label>
                                            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.exam3" placeholder="Exam #3" disabled>
                                        </div>
                                    </div>                  
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" aria-label="Close"  @click="emptyItem()">Cancel</button>
                        </div>
                    </div>
                    </div>
                </div>
              <!-- modal of edit -->
                <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Edit infos</h1>
                        <button type="button" class="btn" @click="emptyItem()" data-bs-dismiss="modal" aria-label="Close"><i class="fa-solid fa-circle-xmark"></i></button>                        </div>
                        <div class="modal-body">
                            <div class="container">
                                <div class="">
                                    <div class="row">
                                        <div class=" col-6 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">First Name</label>
                                            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.firstName" placeholder="first name">
                                        </div>
                                        <div class="col-6 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Last Name</label>
                                            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.lastName" placeholder="last name">
                                        </div>
                                    </div> 
                                    <div class="mb-3">
                                        <label for="exampleFormControlInput1" class="form-label">NCS</label>
                                        <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.ncs" placeholder="C123456789">
                                    </div>    
                                    <div class="row">
                                        <div class=" col-6 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Email address</label>
                                            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.classroom" placeholder="Classroom">
                                        </div>
                                        <div class="col-6 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Birhday</label>
                                            <input type="date" class="form-control" id="exampleFormControlInput1" placeholder="" disabled>
                                        </div>
                                    </div> 
                                    <div class="row">
                                        <div class=" col-4 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Exam #1</label>
                                            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.exam1" placeholder="Exam #1">
                                        </div>
                                        <div class="col-4 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Exam #2</label>
                                            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.exam2" placeholder="Exam #2">
                                        </div>
                                        <div class="col-4 mb-3">
                                            <label for="exampleFormControlInput1" class="form-label">Exam #3</label>
                                            <input type="text" class="form-control" id="exampleFormControlInput1" v-model="item.exam3" placeholder="Exam #3">
                                        </div>
                                    </div>                 
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" @click="emptyItem()">Cancel</button>
                        <button type="button" class="btn btn-success" data-bs-dismiss="modal" @click="addItem()">Add student</button>
                        </div>
                    </div>
                    </div>
                </div>
              <!-- deleteStudent Modal -->
              <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title fs-5" id="exampleModalLabel">Delete Student</h1>
                      <button type="button" class="btn" data-bs-dismiss="modal" aria-label="Close"><i class="fa-solid fa-circle-xmark"></i></button>
                    </div>
                    <div class="modal-body">
                        Are you sure about that? 
                    </div>
                    <div class="modal-footer justify-content-between">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" @click="emtyItem()">Close</button>
                      <button type="button" class="btn btn-danger" data-bs-dismiss="modal" @click="deleteStudent()"><i class="fa fa-trash"></i> Confirme</button>
                    </div>
                  </div>
                </div>
              </div>
              
        </div>
        <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
        <script src="/js/sweetalert2@11.js"></script>
        <script
            src="/js/popper.min.js.js"
            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
            crossorigin="anonymous"
        ></script>
        <script
            src="/js/bootstrap.min.js.js"
            integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
            crossorigin="anonymous"
        ></script>
        <!-- chart js -->
        <script src="/js/chart.umd.js.js" ></script>
        <script>
            const { createApp, ref ,computed, watch } = Vue
            createApp({
              setup() {
                const inDashbo = ref(true)
                const inStudent = ref(false)
                const inAdmin = ref (false)
                const isSigned = ref(false)
                const username = ref('')
                const password = ref('')
                const isLoading = ref(true)
                const signInInfo = {'user':'admin','password':'admin'}
                function singinFunc(){
                    if (username.value == signInInfo.user){
                      if(password.value == signInInfo.password) {
                      isSigned.value = true
                      isLoading.value = true
                      setTimeout(() => {
                        studentsByClassroom()
                        administratersStatic()
                        isLoading.value = false
                      }, "3000");
                      }
                      else {
                        Swal.fire({
                          title: "Singing in error",
                          text: "check user or password",
                          icon: "error"
                        });
                        isSigned.value = false
                      }
                    }
                    else{
                      Swal.fire({
                        title: "Singing in error",
                        text: "check user or password",
                        icon: "error"
                      });
                      isSigned.value = false
                    }
                  }
                function displayDashb(){
                    inDashbo.value = true
                    inStudent.value = false
                    inAdmin.value = false
                    setTimeout(() => {
                        studentsByClassroom()
                        administratersStatic()
                        isLoading.value = false
                      }, "1000");
                }
                function displayStu(){
                    inStudent.value = true
                    inDashbo.value = false
                    inAdmin.value = false
                }
                function displayAdmin(){
                    inAdmin.value = true
                    inDashbo.value = false
                    inStudent.value = false
                }
                function studentsByClassroom(){
                    const ctx = document.getElementById('charts');
                    new Chart(ctx, {
                        type: 'bar',
                        data: {
                        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
                        datasets: [{
                            label: '# of Votes',
                            data: [totalStudents.value],
                            borderWidth: 1
                        }]
                        },
                        options: {
                            responsive : true,
                            maintainAspectRatio: true,
                        scales: {
                            y: {
                            beginAtZero: true
                            }
                        }
                        }
                    }); 
                }
                function administratersStatic(){
                    const ctx = document.getElementById('adminCharts');
                    new Chart(ctx, {
                        type: 'pie',
                        data: {
                        labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
                        datasets: [{
                            label: '# of Votes',
                            data: [12, 19, 3, 5, 2, 3],
                            borderWidth: 1
                        }]
                        },
                        options: {
                            responsive : true,
                            maintainAspectRatio: true,
                        scales: {
                            y: {
                            beginAtZero: true
                            }
                        }
                        }
                    }); 
                }
                //students side
                const list = ref([])
                const item = ref({'ncs':'','firstName':'','lastName':'','classroom':'','exam1':'','exam2':'','result':'','statu':false,})
                const testList = ref(
                    [
                        {'ncs':'7','firstName':'Vini','lastName':'Jr','classroom':'3','exam1':'20','exam2':'15','result':'','statu':false,},
                        {'ncs':'15','firstName':'Fede','lastName':'Valver','classroom':'5','exam1':'15','exam2':'12','result':'','statu':false,},
                        {'ncs':'13','firstName':'Andre','lastName':'lunin','classroom':'6','exam1':'12','exam2':'14','result':'','statu':false,},
                    ]
                )
                function uploadList(){
                    list.value = testList.value
                }
                function addItem(){
                        item.value.result = totalExam(item.value.exam1,item.value.exam2)
                        item.value.statu = isGraduate(item.value.result)
                        list.value.push(item.value)
                        Swal.fire({
                            title: 'Added',
                            text: 'Task Added with success',
                            icon: 'success',
                        })
                        emptyItem()
                    } 
                  
                function emptyItem(){
                    item.value = {'ncs':'','firstName':'','lastName':'','classroom':'','exam1':'','exam2':'','result':'','statu':false,}
                }
                function studentInfo(info){
                    item.value = info
                }
                function editStudent(edit){
                    item.value = edit
                }
                function preDelete(oneItem){
                    item.value = oneItem
                }
                function deleteStudent(){
                    list.value = list.value.filter((oneItem)=> oneItem.ncs != item.value.ncs)
                    emptyItem()
                }
                const totalStudents = computed(()=>{
                    return list.value.length
                })
                function totalExam(exam1,exam2){
                    return (Number(exam1) + Number(exam2))/2
                }
                function isGraduate(note){
                    if(note >= 10){
                        return true
                    }
                    else{
                        return false
                    }
                }
                const graduaters = computed(()=>{
                    return list.value.filter((item)=> item.statu == true).length
                })
                const faileds = computed(()=>{
                    return list.value.filter((item)=> item.statu == false).length
                })
                watch (
                   list,
                   (length)=>{
                    console.log(length)
                   } 
                )
                return{
                    inDashbo,inStudent,inAdmin,isSigned,username,password,singinFunc,signInInfo,displayDashb,displayStu,displayAdmin,studentsByClassroom,administratersStatic,
                    list,item,testList,uploadList,addItem,emptyItem,studentInfo,editStudent,totalStudents,deleteStudent,preDelete,isLoading,totalExam,isGraduate,graduaters,faileds
                }
              }
            }).mount('#app')            
        </script>
    </body>
</html>
